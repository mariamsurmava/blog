<h1><%= current_user == @article.user ||(current_user.role == 'admin' if user_signed_in?) ? (link_to @article.title, edit_article_path(@article)) :  @article.title %></h1>
<p><%= @article.body %></p>
<p class='author'> author : <%= link_to @article.user.email.split("@")[0], user_path(@article.user), {:class => "btn btn-outline-secondary"}
  %> 
</p>
<%= pluralize(@article.likes.count, "like") %>
<%if user_signed_in?
%>
<%like = current_user.likes.find_by(likeable: @article) %>
<% if like.nil? %>
<form action="/likes" method="post">
  <input type ="hidden" name="authenticity_token" value="<%=form_authenticity_token %>">
  <input type ="hidden" name="like[likeable_id]" value="<%= @article.id %>">
  <input type ="hidden" name="like[likeable_type]" value="Article">
  <input type ="submit" value="like" class="btn btn-danger">
  </form>
  <%else%>
  <form action="<%= like_path(like)%>" method="post">
  <input type ="hidden" name="authenticity_token" value="<%=form_authenticity_token %>">
  <input type ="hidden" name="_method" value="DELETE">
  <input type ="submit" value="liked" class="btn btn-dark">
    </form>
<%end%>
<%end%>




<h2>Comments</h2>
<%= render 'comments/comments'%>
  <div class="digg_pagination center">
    <%= will_paginate @comments%>
  </div>

<%if user_signed_in?%>
<%= render 'comments/form' %>


<%end%>
