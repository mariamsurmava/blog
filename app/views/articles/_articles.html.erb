
   <% %>
<div class="digg_pagination center article_index">    
  <%= will_paginate @articles if @articles.count > 10%>
</div>

<div class='general'>
    
    <table  >
       <thead>
    <tr class = 'row'>
      <th scope="col"><%= t("article")%></th>
      </tr> 
      </thead>
      <% @articles.each do |article| %>
    <% unless article.archived? || (article.private? || article.approved == false && article.user != current_user) %>    
      <tbody>
      <tr class = 'article_info'>
      <td ><span class='title'><%=article.title.capitalize%></span><br>
     </td> 
       </tr>
        <tr class = 'article_body'>
       <td><%= article.description || t("no description")%> 
       <br>
       <%= button_to t("read more"), article_url(article), :method => :get, class:"btn btn-outline-light"%>
</td>
      </tr>
      <tr>
      <td> <%= t("category:")%> <% Category.where(id: article.category_ids).find_each do |category|%>
      <%= link_to category.name, category_path(category.id) %>   
      <%end%></td>
      </tr>
      <tr><td> <%= t("by")%>: <%= link_to article.user.email, user_path(article.user), {:class => "btn btn-secondary"} %></td></tr>


      <tr class = 'article_functions'>
             <td> <% if user_signed_in? && current_user == article.user %>

<div class='blogedit'>  

  <%= link_to t("Edit"), edit_article_path(article), {:class => "btn btn-outline-secondary"} %> 
  <%= link_to t("Destroy"), article_path(article), data: {
                    turbo_method: :delete,
                    turbo_confirm: t("Are you sure?")
                  }, style: 'color: black;', class: 'btn btn-outline-secondary' %>
                  </div>
<%end%> </td>

      </tr>


      </tbody>
     
  <% end %>

  <% end %> 
      </table>
</div>
    <div class="digg_pagination center">    
      <%= will_paginate @articles%>
    </div>
